<div class="app-container">
  <div class="side-bar">
    <div class="logo">
      <img src="../assets/logo.svg" alt="iov42 ultraplex">
    </div>
    <h1>Dashboard</h1>
    <div class="nav">
      <div class="nav-item active" (click)="selectNavigation(cinema)" #cinemaNav>
        <img src="../assets/cinema.svg" alt="">
        <span>Cinemas ({{ cinemaCards.length }})</span>
      </div>
      <div class="nav-item" (click)="selectNavigation(movie)" #movieNav>
        <img src="../assets/movie.svg" alt="">
        <span>Movies ({{ movieCards.length }})</span>
      </div>
      <div class="nav-item" (click)="selectNavigation(booking)" #bookingNav>
        <img src="../assets/booking.svg" alt="">
        <span>Bookings ({{ bookingCards.length }})</span>
      </div>
    </div>
  </div>
  <div class="main">
    <div class="cinema-section" #cinema>
      <app-section title="Cinemas ({{ cinemaCards.length }})" cardSize="large"
        [cardType]="'cinema'" (addEmitter)="openCreateModal($event)" [isEmpty]="cinemaCards.length === 0">
        <app-card *ngFor="let card of cinemaCards"
          [title]="card.title"
          [icon]="card.icon"
          [active]="card.selected"
          (click)="selectCinema(card)"
          [size]="card.size"></app-card>
      </app-section>
      <div class="spinner" *ngIf="areScreensLoading">
        <img src="../assets/spin.svg" alt="">
      </div>
      <div class="cinema-specific" *ngIf="selectedCinemaId !== undefined && !areScreensLoading">
        <app-section title="Screens ({{ screenCards.length }})" [cardType]="'screen'" cardSize="medium"
        (addEmitter)="openCreateModal($event)" [isEmpty]="screenCards.length === 0">
          <app-card *ngFor="let card of screenCards"
            [title]="card.title"
            [icon]="card.icon"
            [active]="card.selected"
            (click)="selectScreen(card)"
            [size]="card.size"></app-card>
        </app-section>
        <app-section title="Screenings  ({{ screeningCards.length }})" [cardType]="'screening'" cardSize="medium"
        (addEmitter)="openCreateModal($event)" *ngIf="!areScreensLoading"
        [isEmpty]="screeningCards.length === 0">
          <app-card *ngFor="let card of screeningCards"
            [title]="card.title"
            [icon]="card.icon"
            (click)="selectScreening(card)"
            [active]="card.selected"
            [size]="card.size"></app-card>
        </app-section>
      </div>
    </div>
    <div class="movie-section" #movie>
      <app-section title="Movies ({{ movieCards.length }})" cardSize="large"
        [cardType]="'movie'" (addEmitter)="openCreateModal($event)" [isEmpty]="movieCards.length === 0">
        <app-card *ngFor="let card of movieCards"
          [title]="card.title"
          [icon]="card.icon"
          [size]="card.size"
          [disabled]="true"
></app-card>
      </app-section>
    </div>
    <div class="booking-section" #booking>
      <app-section title="Bookings ({{ bookingCards.length }})" cardSize="large"
        [cardType]="'booking'" (addEmitter)="openCreateModal($event)" [isEmpty]="bookingCards.length === 0">
        <app-card *ngFor="let card of bookingCards"
          [title]="card.title"
          [icon]="card.icon"
          [size]="card.size"
          [disabled]="true"></app-card>
      </app-section>
    </div>
  </div>
  <div class="bg"></div>
</div>